# å¤š AI Agent å”ä½œç³»çµ±å®Œæ•´æŒ‡å—

## ğŸ¯ ç³»çµ±æ¦‚è¿°

æœ¬å°ˆæ¡ˆå»ºç«‹äº†å®Œæ•´çš„ä¸‰ AI Agent å”ä½œç³»çµ±ï¼Œæ”¯æ´ **Claude (å…‹å‹å¾·)**ã€**Codex** å’Œ **Gemini** åŒæ™‚é–‹ç™¼ï¼Œä½¿ç”¨ rebase å·¥ä½œæµç¨‹å’Œæ··åˆå¼è¨˜æ†¶ç®¡ç†ã€‚

### ğŸ¤– AI Agent åˆ†å·¥

| AI Agent | ä¸»è¦è·è²¬ | Worktree è·¯å¾‘ | åˆ†æ”¯åç¨± |
|----------|----------|---------------|----------|
| **Claude (å…‹å‹å¾·)** | ä¸»è¦é–‹ç™¼ã€ç‰ˆæœ¬ç®¡ç†ã€å°ˆæ¡ˆå”èª¿ | `D:/marskingx.github.io` | `claude-dev` |
| **Codex** | ç¨‹å¼ç¢¼ç”Ÿæˆã€è‡ªå‹•åŒ–è…³æœ¬ã€æ•ˆèƒ½å„ªåŒ– | `D:/marskingx-worktrees/codex-dev` | `codex-dev` |
| **Gemini** | å¯¦é©—åŠŸèƒ½ã€å…§å®¹å‰µæ–°ã€åˆ†æå ±å‘Š | `D:/marskingx-worktrees/gemini-dev` | `gemini-dev` |

## ğŸ“‚ è¨˜æ†¶ç³»çµ±æ¶æ§‹

### æ··åˆå¼è¨˜æ†¶ç®¡ç†
- **å…±ç”¨è¨˜æ†¶**: `AI_SHARED.md` - å°ˆæ¡ˆæ ¸å¿ƒè³‡è¨Šã€å”ä½œè¦å‰‡
- **å€‹äººè¨˜æ†¶**: `CLAUDE.md`, `GEMINI.md`, `CODEX.md` - å„ AI å°ˆæ¥­è¨­å®š

### è¨˜æ†¶åŒæ­¥ç­–ç•¥
```bash
# æª¢æŸ¥è¨˜æ†¶æª”æ¡ˆç‹€æ…‹
npm run ai:memory

# æ‰‹å‹•åŒæ­¥é‡è¦è³‡è¨Šåˆ° AI_SHARED.md
# å„ AI å®šæœŸæª¢æŸ¥ä¸¦æ›´æ–°å€‹äººè¨˜æ†¶æª”æ¡ˆ
```

## ğŸ”§ ç®¡ç†å·¥å…·

### ğŸ¤– å¤š AI ç‹€æ…‹ç®¡ç†
```bash
npm run ai:status         # æª¢æŸ¥æ‰€æœ‰ AI å·¥ä½œç‹€æ…‹
npm run ai:sync           # åŒæ­¥æ‰€æœ‰åˆ†æ”¯åˆ° main
npm run ai:conflicts      # æª¢æŸ¥æ½›åœ¨æª”æ¡ˆè¡çª
npm run ai:memory         # æª¢æŸ¥è¨˜æ†¶æª”æ¡ˆåŒæ­¥
npm run ai:help           # é¡¯ç¤ºæ‰€æœ‰å¯ç”¨æŒ‡ä»¤
```

### ğŸ›¡ï¸ è¡çªé˜²æ­¢ç³»çµ±
```bash
npm run conflict:check      # æª¢æŸ¥ç•¶å‰è®Šæ›´é¢¨éšª
npm run conflict:precommit  # æäº¤å‰å®Œæ•´å®‰å…¨æª¢æŸ¥
npm run conflict:rules      # é¡¯ç¤ºå”ä½œè¦å‰‡
npm run conflict:lock       # å‰µå»ºæª”æ¡ˆé–å®šæ¨™è¨˜
npm run conflict:unlock     # é‡‹æ”¾æª”æ¡ˆé–å®š
```

## ğŸ“‹ æª”æ¡ˆè²¬ä»»å€åŸŸ

### ğŸ¯ æ˜ç¢ºåˆ†å·¥
```yaml
/content/blog/:        å…§å®¹å‰µå»ºè€…å„ªå…ˆ, Gemini å”åŠ©
/layouts/:            Claude ä¸»å°, Codex å”åŠ©
/scripts/:            Codex ä¸»å°, Claude å”åŠ©  
/themes/hugoplate/:   éœ€ä¸‰ AI å”è­°æ‰èƒ½ä¿®æ”¹
/static/:             å…±åŒç¶­è­·
/assets/:             å…±åŒç¶­è­·
é…ç½®æª”æ¡ˆ:              Claude çµ±ä¸€ç®¡ç†
```

### âš ï¸ é«˜é¢¨éšªæª”æ¡ˆ (éœ€å”èª¿)
- `hugo.toml` - Hugo ä¸»è¦é…ç½®
- `package.json` - å¥—ä»¶å’Œè…³æœ¬ç®¡ç†
- `.version` - ç‰ˆæœ¬è³‡è¨Š
- `CLAUDE.md`, `GEMINI.md`, `CODEX.md` - AI è¨˜æ†¶æª”æ¡ˆ
- `AI_SHARED.md` - å…±ç”¨è¨˜æ†¶
- `/themes/hugoplate/layouts/` - ä¸»é¡Œæ ¸å¿ƒæ¨¡æ¿

## ğŸ”„ Rebase å·¥ä½œæµç¨‹

### æ¨™æº–é–‹ç™¼æµç¨‹
```bash
# 1. é–‹ç™¼å‰æª¢æŸ¥
npm run ai:status

# 2. åŒæ­¥æœ€æ–° main åˆ†æ”¯
git fetch origin main
git rebase origin/main

# 3. é–‹ç™¼éšæ®µ
# ... é€²è¡Œé–‹ç™¼å·¥ä½œ ...

# 4. æäº¤å‰æª¢æŸ¥
npm run conflict:precommit

# 5. æäº¤è®Šæ›´
git add .
git commit -m "feat: åŠŸèƒ½æè¿°"

# 6. æ¨é€åˆ°é ç«¯ (éœ€è¦æ™‚ä½¿ç”¨ force-with-lease)
git push --force-with-lease origin [branch-name]
```

### è¡çªè§£æ±ºæµç¨‹
```bash
# å¦‚æœ rebase éç¨‹ä¸­é‡åˆ°è¡çª
git add .                    # è§£æ±ºè¡çªå¾Œæ·»åŠ æª”æ¡ˆ
git rebase --continue        # ç¹¼çºŒ rebase

# å¦‚æœéœ€è¦ä¸­æ­¢ rebase
git rebase --abort           # å›åˆ° rebase å‰ç‹€æ…‹
```

## ğŸš€ ç‰ˆæœ¬ç®¡ç†ç­–ç•¥

### å››ä½ç‰ˆæœ¬è™Ÿç³»çµ±
- **major.minor.patch.content** (ä¾‹å¦‚: 3.1.2.5)
- **ä¸»ç‰ˆæœ¬** (3.x.x.x): Claude è² è²¬é‡å¤§æ›´æ–°
- **æ¬¡ç‰ˆæœ¬** (x.1.x.x): æ–°åŠŸèƒ½é–‹ç™¼ (å„ AI å”ä½œ)
- **ä¿®æ­£ç‰ˆ** (x.x.1.x): Bug ä¿®å¾© (ç™¼ç¾è€…è² è²¬)
- **å…§å®¹ç‰ˆ** (x.x.x.1): å…§å®¹æ›´æ–° (å…§å®¹å‰µå»ºè€…)

### ç‰ˆæœ¬ç™¼å¸ƒæŒ‡ä»¤
```bash
npm run version:show       # æŸ¥çœ‹ç•¶å‰ç‰ˆæœ¬
npm run version:content    # å…§å®¹æ›´æ–°ç‰ˆæœ¬
npm run version:patch      # éŒ¯èª¤ä¿®å¾©ç‰ˆæœ¬
npm run version:minor      # æ–°åŠŸèƒ½ç‰ˆæœ¬  
npm run version:major      # é‡å¤§æ›´æ–°ç‰ˆæœ¬
```

## ğŸ’¡ å”ä½œæœ€ä½³å¯¦è¸

### é–‹ç™¼å‰æª¢æŸ¥æ¸…å–®
- [ ] æª¢æŸ¥ `npm run ai:status` äº†è§£å…¶ä»– AI ç‹€æ…‹
- [ ] é–±è®€æœ€æ–°çš„ `AI_SHARED.md` å…§å®¹
- [ ] ç¢ºèªè¦ä¿®æ”¹çš„æª”æ¡ˆä¸åœ¨å…¶ä»– AI çš„è²¬ä»»å€åŸŸ
- [ ] æª¢æŸ¥æ˜¯å¦æœ‰æª”æ¡ˆé–å®š (`.ai-lock.json`)

### é–‹ç™¼ä¸­æ³¨æ„äº‹é …
- [ ] å°ˆæ³¨æ–¼è‡ªå·±çš„è²¬ä»»å€åŸŸ
- [ ] é‡è¦æ±ºç­–è¨˜éŒ„åˆ°å…±ç”¨è¨˜æ†¶
- [ ] é¿å…ä¿®æ”¹é«˜é¢¨éšªæª”æ¡ˆ
- [ ] å®šæœŸåŸ·è¡Œ `npm run build` ç¢ºä¿å»ºç½®æˆåŠŸ

### æäº¤å‰æª¢æŸ¥æ¸…å–®
- [ ] åŸ·è¡Œ `npm run conflict:precommit` å®Œæ•´æª¢æŸ¥
- [ ] ç¢ºä¿å»ºç½®æˆåŠŸä¸”ç„¡éŒ¯èª¤
- [ ] æª¢æŸ¥çµæ§‹åŒ–è³‡æ–™é©—è­‰é€šé
- [ ] æ›´æ–°ç›¸é—œè¨˜æ†¶æª”æ¡ˆ
- [ ] æ’°å¯«æ¸…æ™°çš„æäº¤è¨Šæ¯

### åˆä½µå¾Œç¶­è­·
- [ ] æ›´æ–° `AI_SHARED.md` è¨˜éŒ„é‡è¦è®Šæ›´
- [ ] é€šçŸ¥å…¶ä»– AI é‡è¦æ›´æ–°
- [ ] æª¢æŸ¥ GitHub Pages éƒ¨ç½²ç‹€æ…‹
- [ ] é©—è­‰ç·šä¸ŠåŠŸèƒ½æ­£å¸¸

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

#### 1. Rebase è¡çª
```bash
# æª¢æŸ¥è¡çªæª”æ¡ˆ
git status

# æ‰‹å‹•è§£æ±ºè¡çªå¾Œ
git add .
git rebase --continue
```

#### 2. Worktree åŒæ­¥å•é¡Œ
```bash
# é‡æ–°åŒæ­¥æ‰€æœ‰åˆ†æ”¯
npm run ai:sync

# æ‰‹å‹•æª¢æŸ¥ç‰¹å®šåˆ†æ”¯
cd D:/marskingx-worktrees/codex-dev
git status
```

#### 3. è¨˜æ†¶æª”æ¡ˆè¡çª
```bash
# æª¢æŸ¥è¨˜æ†¶æª”æ¡ˆç‹€æ…‹
npm run ai:memory

# æ‰‹å‹•åˆä½µè¨˜æ†¶æª”æ¡ˆå…§å®¹
# æ›´æ–°æœ€å¾Œä¿®æ”¹æ™‚é–“
```

#### 4. å»ºç½®å¤±æ•—
```bash
# æ¸…é™¤å¿«å–é‡æ–°å»ºç½®
hugo mod clean --all
npm run build

# æª¢æŸ¥çµæ§‹åŒ–è³‡æ–™
npm run schema:validate
```

## ğŸ“Š ç›£æ§èˆ‡åˆ†æ

### å®šæœŸæª¢æŸ¥é …ç›®
- **æ¯æ—¥**: `npm run ai:status` æª¢æŸ¥å”ä½œç‹€æ…‹
- **æ¯é€±**: `npm run ai:memory` åŒæ­¥è¨˜æ†¶æª”æ¡ˆ
- **æ¯æœˆ**: æª¢è¦–å”ä½œæ•ˆç‡ï¼Œèª¿æ•´åˆ†å·¥ç­–ç•¥

### æ•ˆèƒ½æŒ‡æ¨™
- åˆ†æ”¯è¡çªé »ç‡
- å»ºç½®æˆåŠŸç‡
- è¨˜æ†¶æª”æ¡ˆåŒæ­¥ç‹€æ…‹
- ç‰ˆæœ¬ç™¼å¸ƒé€±æœŸ

## ğŸ‰ ç³»çµ±å„ªå‹¢

### âœ… å·²å¯¦ç¾åŠŸèƒ½
1. **ä¸¦è¡Œé–‹ç™¼**: ä¸‰ AI å¯åŒæ™‚é–‹ç™¼ä¸åŒåŠŸèƒ½
2. **è¡çªé é˜²**: è‡ªå‹•æª¢æ¸¬æ½›åœ¨è¡çªä¸¦æä¾›å»ºè­°
3. **è¨˜æ†¶å…±äº«**: æ··åˆå¼è¨˜æ†¶ç³»çµ±ç¢ºä¿è³‡è¨ŠåŒæ­¥
4. **è‡ªå‹•åŒ–å·¥å…·**: å®Œæ•´çš„ç®¡ç†å’Œç›£æ§å·¥å…·é›†
5. **ç‰ˆæœ¬æ§åˆ¶**: æ¨™æº–åŒ–çš„ç‰ˆæœ¬ç®¡ç†æµç¨‹

### ğŸš€ æœªä¾†æ“´å±•
- æ›´æ™ºèƒ½çš„è¡çªé æ¸¬ç®—æ³•
- è‡ªå‹•åŒ–æ¸¬è©¦æ•´åˆ
- æ•ˆèƒ½ç›£æ§å„€è¡¨æ¿
- AI å”ä½œæ•ˆç‡åˆ†æå ±å‘Š

---

## ğŸ†˜ ç·Šæ€¥è¯çµ¡

å¦‚é‡åˆ°ç„¡æ³•è§£æ±ºçš„å”ä½œå•é¡Œï¼š

1. å‰µå»ºç·Šæ€¥é–å®š: `npm run conflict:lock`
2. è¨˜éŒ„å•é¡Œåˆ° `AI_SHARED.md`
3. ä½¿ç”¨ `git rebase --abort` å›åˆ°å®‰å…¨ç‹€æ…‹
4. èˆ‡å…¶ä»– AI å”èª¿è§£æ±ºæ–¹æ¡ˆ

---

*æœ¬ç³»çµ±ç”± Claude (å…‹å‹å¾·) è¨­è¨ˆä¸¦èˆ‡ Codexã€Gemini å”ä½œå»ºç«‹*  
*æœ€å¾Œæ›´æ–°: 2025-08-22*  
*ç‰ˆæœ¬: v3.0.0.0*