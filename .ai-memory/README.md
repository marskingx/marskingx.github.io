# 外部記憶系統使用指南

## 概述

外部記憶系統是一個基於 Markdown 檔案的知識管理解決方案，專為「懶得變有錢」Hugo 部落格專案設計。系統透過 Kiro 的 steering 機制，在每次開啟 IDE 時自動載入專案記憶，為 AI 助手提供持續的上下文感知能力。

## 檔案結構

```
.kiro/steering/
├── project-memory-loader.md    # 記憶載入器 (自動載入)
├── project-memory.md           # 核心記憶檔案
├── memory-tools.md             # 記憶管理工具 (手動載入)
└── README.md                   # 使用說明
```

## 核心功能

### 1. 自動載入記憶

- 每次開啟 IDE 時，`project-memory.md` 會自動載入到 Kiro session
- AI 助手立即獲得完整的專案上下文和歷史資訊
- 無需手動操作，seamless 的知識傳承

### 2. 結構化知識管理

記憶檔案包含以下主要區段：

- **專案概述**: 基本資訊和技術棧
- **重要決策記錄**: 技術選擇和原因
- **技術配置**: 系統設定和參數
- **學習筆記**: 問題解決和知識累積
- **最佳實踐**: 開發經驗和慣例
- **常見問題**: 故障排除和解決方案
- **待辦事項**: 短期和長期目標
- **重要連結**: 文件和資源

### 3. 便捷的更新工具

使用內建腳本快速更新記憶內容：

```bash
# 互動式更新記憶檔案
npm run memory:update

# 備份記憶檔案
npm run memory:backup
```

## 使用方法

### 日常開發

1. **開啟 IDE**: 記憶系統自動載入，AI 助手獲得專案上下文
2. **開發過程**: 正常進行開發工作，AI 助手會參考記憶內容提供建議
3. **遇到問題**: 查詢記憶檔案中的常見問題和解決方案
4. **學到新知識**: 使用更新工具記錄到記憶檔案中

### 記錄重要決策

當做出重要技術決策時：

1. 執行 `npm run memory:update`
2. 選擇「添加決策記錄」
3. 按提示填入決策相關資訊
4. 系統自動更新記憶檔案

### 保存學習筆記

當解決問題或學到新知識時：

1. 執行 `npm run memory:update`
2. 選擇「添加學習筆記」
3. 記錄問題、解決方案和相關資源
4. 添加適當的標籤便於搜尋

### 手動編輯記憶檔案

也可以直接編輯 `.kiro/steering/project-memory.md`：

1. 找到相應的區段
2. 按照既有格式添加內容
3. 保存檔案，下次 session 自動載入

## 最佳實踐

### 內容組織

- **保持結構一致**: 遵循既定的 Markdown 格式
- **使用清晰標題**: 便於快速定位和搜尋
- **添加適當標籤**: 在學習筆記中使用標籤分類
- **定期整理**: 歸檔過時資訊，保持內容新鮮

### 更新頻率

- **即時記錄**: 重要決策和解決方案立即記錄
- **每週檢視**: 檢查待辦事項和近期學習
- **每月整理**: 歸檔舊內容，更新專案狀態
- **季度回顧**: 全面檢視專案方向和目標

### 版本控制

- 記憶檔案納入 Git 版本控制
- 定期提交記憶更新
- 使用有意義的提交訊息
- 必要時可以回溯歷史版本

## 進階功能

### 條件載入

使用 `memory-tools.md` 獲得額外的管理工具：

```markdown
#memory-tools
```

在聊天中使用上述標籤來載入記憶管理工具。

### 搜尋和檢索

- 使用 Kiro 的搜尋功能在記憶檔案中找到相關內容
- 利用標籤系統快速定位特定主題
- 瀏覽分類區段獲得系統性資訊

### 備份和恢復

```bash
# 建立備份
npm run memory:backup

# 手動備份到特定位置
cp .kiro/steering/project-memory.md backup/memory-$(date +%Y%m%d).md
```

## 故障排除

### 記憶檔案未載入

1. 檢查 `.kiro/steering/project-memory-loader.md` 是否存在
2. 確認檔案中的 front matter 格式正確
3. 重新啟動 Kiro session

### 更新腳本無法執行

1. 確認 Node.js 已安裝
2. 檢查腳本檔案權限
3. 確認記憶檔案路徑正確

### 記憶檔案過大

1. 考慮分割成多個主題檔案
2. 歸檔歷史內容到單獨檔案
3. 使用更簡潔的格式記錄資訊

## 擴展和客製化

### 添加新的記憶類型

可以在記憶檔案中添加新的區段：

```markdown
## 新區段標題

### 子項目

內容...
```

### 建立專題記憶檔案

針對特定主題建立獨立的記憶檔案：

```markdown
---
inclusion: manual
contextKey: specific-topic
---

# 特定主題記憶

...
```

### 整合外部工具

可以整合其他工具來增強記憶系統：

- 使用 Git hooks 自動備份
- 整合 CI/CD 進行內容驗證
- 連接外部知識庫系統

---

這個外部記憶系統將隨著專案發展持續演進，確保知識的有效累積和傳承。
